var sumbitFormChecks=[{query:"input[type=text]",validators:[validateRequired,validateLength,validateNoMarkdownButLanguage]},{query:"input[type=file]",validators:[validateRequired,validateImageFile]},{query:"textarea",validators:[validateRequired,validateLength]},{query:"#keywords-articolo, #alt-immagine",validators:[validateNoLanguage]}],loginFormChecks=[{query:"input[type=text], input[type=password]",validators:[validateRequired,validateLength]}],regexes=[/(#+)(.*)/,/\[([^\[]+)\]\(([^\)]+)\)/,/(\*\*|__)(.*?)\1/,/(\*|_)(.*?)\1/,/\~\~(.*?)\~\~/,/\:\"(.*?)\"\:/,/`(.*?)`/,/\n\*(.*)/,/\n[0-9]+\.(.*)/,/\n(&gt;|\>)(.*)/,/\n-{5,}/,/\n([^\n]+)\n/,/(\(!)(.+)(\))/];function ready(e){"loading"!=document.readyState?e():document.addEventListener("DOMContentLoaded",e)}function validateForm(e){deleteErrorMessages();var t,r=null!==document.getElementById("login");return t=r?document.forms.login:document.forms.invio,(r?loginFormChecks:sumbitFormChecks).map(e=>executeCheck(e,t)).reduce((e,t)=>e&&t)}function executeCheck(e,t){const r=Array.from(t.querySelectorAll(e.query)).filter(t=>!checkInput(t,e.validators));return r.forEach(e=>showErrorMessage(e)),0===r.length}function showErrorMessage(e){var t=document.querySelector("label[for=%s]".replace(/%s/,e.id));if(null!==t&&0===t.getElementsByClassName("error").length){var r=document.createElement("strong");r.className="error",r.setAttribute("role","alert"),r.appendChild(document.createTextNode(" - "+t.getAttribute("data-error-msg"))),t.appendChild(r)}}function deleteErrorMessages(){for(var e=document.getElementsByClassName("error");0<e.length;)e[0].remove()}function checkInput(e,t){return t.reduce((t,r)=>t&&r(e),!0)}function validateNoMarkdownButLanguage(e){return regexes.map(t=>!t.test(e.value)).reduce((e,t)=>e&&t,!0)}function validateLength(e){const t=e.getAttribute("minlength"),r=e.getAttribute("maxlength");return(null===t||e.value.length>=t)&&(null===r||e.value.length<=r)}function validateImageFile(e){const t=e.files;return 1===t.length&&t[0].type.startsWith("image/")&&t[0].size<1e6||0===t.length}function validateRequired(e){return!e.hasAttribute("required")||""!=e.value}function validateNoLanguage(e){return!/(\(?)(.+)(\))/.test(e.value)}ready(function(){document.onsubmit=validateForm});
